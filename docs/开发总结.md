## 差异点
这里的问题在于任何一个页面都可能会在服务端渲染，当涉及动态加载和异步操作时会产生差异，尤其是以条件生产(如按路由区分)的对顺序、状态有要求的全局数据会产生不一致的情况，所以要考虑所有可能的情况，了解其差异点进行开发  

### 服务端首屏渲染
spa模式下为当前请求路由的首屏渲染  
一次请求只渲染一次  

### 客户端首屏渲染
需要保持和服务端直出结果相同，这里需要保证组件所需的props和服务端一致，不能出现函数等无法转为json格式数据的props  
同服务端一样只渲染一次  

### 客户端渲染
spa模式下客户端在首屏渲染之后所有的路由跳转渲染走正常的客户端逻辑  
渲染大于等于0次  

### 例子
这里列举两个遇到的情况  
1. 有一个全局变量决定是否渲染，其值依赖服务端的路由匹配结果，除此之外无改变逻辑，当在服务端匹配到路由时值为true，客户端同构后首屏没有问题，跳转其他路由后再跳回来也依旧渲染，全局变量为true没有改变，这种情况没有问题，但在服务端不匹配时值为false且渲染的其他页面，当跳进此页面时因为控制渲染的全局变量为false所以没有发生渲染
2. 动态加载的路由在服务端会以同步的方式执行render，和正常组件无区别，按顺序加载渲染，客户端首屏时没有问题，也是同步的方式处理渲染，但在跳入入一个动态加载的路由时此时走正常的客户端逻辑，结果变为了一个异步操作，无法保证顺序

## 借鉴库
- next
- koa
- html-webpack-plugin
- dva/dynamic
- react-loadable
